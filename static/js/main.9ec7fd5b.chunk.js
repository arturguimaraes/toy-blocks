(this["webpackJsonptoy-blocks"]=this["webpackJsonptoy-blocks"]||[]).push([[0],{74:function(n,e,t){},84:function(n,e,t){},85:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(23),c=t.n(a),i=(t(74),t(24)),l=t(29),d=t(21),s=t.n(d),u=t(37),p=function(){return{nodes:{list:[{url:"https://thawing-springs-53971.herokuapp.com",online:!1,name:"Node 1",loading:!1,expanded:!1,blocks:[],loadingBlocks:!1,loadingBlocksError:!1},{url:"https://secret-lowlands-62331.herokuapp.com",online:!1,name:"Node 2",loading:!1,expanded:!1,blocks:[],loadingBlocks:!1,loadingBlocksError:!1},{url:"https://calm-anchorage-82141.herokuapp.com",online:!1,name:"Node 3",loading:!1,expanded:!1,blocks:[],loadingBlocks:!1,loadingBlocksError:!1},{url:"http://localhost:3002",online:!1,name:"Node 4",loading:!1,expanded:!1,blocks:[],loadingBlocks:!1,loadingBlocksError:!1}]}}},f=t(58),b=t.n(f),g=Object(i.b)("nodes/checkNodeStatus",function(){var n=Object(u.a)(s.a.mark((function n(e){var t,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b()("".concat(e.url,"/api/v1/status"));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),x=Object(i.b)("nodes/checkNodesStatus",function(){var n=Object(u.a)(s.a.mark((function n(e,t){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dispatch,e.forEach((function(n){r(g(n))}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),j=Object(i.b)("nodes/loadBlocks",function(){var n=Object(u.a)(s.a.mark((function n(e){var t,r,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b()("".concat(e.url,"/api/v1/blocks"));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,o=[],r.data&&(r=r.data).forEach((function(n){var t={id:n.id,nodeUrl:e.url,index:n.attributes.index,data:n.attributes.data};o.push(t)})),n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),h=Object(i.b)("nodes/checkLoadBlocks",function(){var n=Object(u.a)(s.a.mark((function n(e,t){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.dispatch,e.forEach((function(n){n.expanded&&r(j(n))}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),k=Object(i.c)({name:"nodes",initialState:p().nodes,reducers:{setExpanded:function(n,e){n.list.map((function(n){return n.url===e.payload.url?n.expanded=e.payload.expanded:n.expanded=!1,n}))}},extraReducers:function(n){n.addCase(g.pending,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.loading=!0)})),n.addCase(g.fulfilled,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.online=!0,t.loading=!1,t.name=e.payload.node_name)})),n.addCase(g.rejected,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.online=!1,t.loading=!1)})),n.addCase(j.pending,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.loadingBlocks=!0,t.loadingBlocksError=!1)})),n.addCase(j.fulfilled,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.blocks=e.payload,t.loadingBlocks=!1,t.loadingBlocksError=!1)})),n.addCase(j.rejected,(function(n,e){var t=n.list.find((function(n){return n.url===e.meta.arg.url}));t&&(t.blocks=[],t.loadingBlocks=!1,t.loadingBlocksError=!0)}))}}),O=k.actions,m=function(n){return n.nodes.list},v=k.reducer,y=Object(i.a)({reducer:{nodes:v}}),w=l.c,E=t(11),B=t(64),S=t.n(B),C=t(102),N=t(103),F=t(105),I=t(106),L=t(107),H=t(8),R={text:"#263238",faded:"#8a9094",primary:"#5bb7db",danger:"#D94238",warning:"#f4c20d",success:"#1E9A57",contentBackground:"#f8f8f8",border:"#aaaaaa",white:"#ffffff",lightgray:"rgba(0, 0, 0, 0.12)",darkgray:"#263238",blue:"#304FFE"},z=t(2),A=Object(H.a)("span",{shouldForwardProp:function(n){return!["online","loading"].includes(n)}})((function(n){var e=n.online;return{borderRadius:"50%",display:"inline-block",width:5,height:5,backgroundColor:n.loading?R.warning:e?R.success:R.danger}})),W=Object(H.a)("span",{shouldForwardProp:function(n){return"online"!==n}})((function(n){return{fontSize:14,display:"block",lineHeight:1.5,fontWeight:400,letterSpacing:1,paddingLeft:5,color:n.online?R.text:R.faded}})),D=function(n){var e=n.online,t=n.loading;return Object(z.jsxs)(F.a,{display:"flex",alignItems:"center",children:[Object(z.jsx)(A,{online:e,loading:t}),Object(z.jsx)(W,{online:e,children:t?"LOADING":e?"ONLINE":"OFFLINE"})]})},P=Object(H.a)(F.a)({backgroundColor:R.lightgray,borderRadius:"2px",marginBottom:"8px"}),T=Object(H.a)(I.a)({fontFamily:"Roboto",fontStyle:"normal",fontWeight:"700",fontSize:"10px",lineHeight:"16px",letterSpacing:"1.5px",textTransform:"uppercase",color:R.blue,padding:"8px"}),M=Object(H.a)(I.a)((function(n){n.theme;return{fontFamily:"Roboto",fontStyle:"normal",fontWeight:"400",fontSize:"14px",lineHeight:"20px",letterSpacing:"0.25px",color:R.darkgray,padding:"0 8px 8px 8px"}}));function J(n){return Object(z.jsxs)(P,{children:[Object(z.jsx)(T,{children:(e=n.block.index,e<10?"00"+e:e<100?"0"+e:e)}),Object(z.jsx)(M,{children:n.block.data})]});var e}function U(n){return Object(z.jsx)("div",{children:n.blocks.map((function(n){return Object(z.jsx)(J,{block:n},n.id)}))})}var G=Object(H.a)(C.a)({margin:"16px 0",boxShadow:"0px 3px 6px 1px rgba(0,0,0,0.15)","&:before":{backgroundColor:"unset"}}),_=Object(H.a)(N.a)({padding:"0 24px","& .MuiAccordionSummary-content":{margin:"10px 0 !important"},"& .MuiAccordionSummary-expandIconWrapper":{color:R.faded}}),q=Object(H.a)(F.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",paddingRight:20}),K=Object(H.a)(I.a)({fontSize:17,display:"block",color:R.text,lineHeight:1.5}),Q=Object(H.a)(I.a)((function(n){n.theme;return{fontSize:14,color:R.faded,lineHeight:2}})),V=Object(H.a)(F.a)({backgroundColor:R.lightgray,minHeight:"48px",padding:"8px",fontFamily:"Roboto",fontStyle:"normal",fontWeight:"400",fontSize:"14px",lineHeight:"20px",letterSpacing:"0.25px",color:R.darkgray,textAlign:"center"}),X=function(n){var e=n.node,t=n.expanded,r=n.toggleNodeExpanded,o=e.loadingBlocks,a=e.blocks.length,c=e.loadingBlocksError;return Object(z.jsxs)(G,{elevation:3,expanded:t,onChange:function(){return r(e)},children:[Object(z.jsx)(_,{expandIcon:Object(z.jsx)(S.a,{}),children:Object(z.jsxs)(q,{children:[Object(z.jsxs)(F.a,{children:[Object(z.jsx)(K,{variant:"h5",children:e.name||"Unknown"}),Object(z.jsx)(Q,{variant:"subtitle1",children:e.url})]}),Object(z.jsx)(D,{loading:e.loading,online:e.online})]})}),Object(z.jsxs)(L.a,{children:[o&&Object(z.jsx)(V,{children:"Loading blocks..."}),!o&&c&&Object(z.jsx)(V,{children:"Error fetching the blocks"}),!o&&!c&&0===a&&Object(z.jsx)(V,{children:"No blocks found"}),!o&&!c&&a>0&&Object(z.jsx)(U,{blocks:e.blocks})]})]})},Y=function(){var n=Object(r.useState)(null),e=Object(E.a)(n,2),t=e[0],o=e[1],a=Object(l.b)(),c=w(m);function i(n){var e=n.url!==t;a(O.setExpanded({url:n.url,expanded:e})),o(e?n.url:null)}return Object(r.useEffect)((function(){a(x(c))}),[]),Object(r.useEffect)((function(){a(h(c))}),[t]),Object(z.jsxs)(F.a,{paddingTop:7,children:[Object(z.jsx)(I.a,{variant:"h4",component:"h1",children:Object(z.jsx)("strong",{style:{color:"#000"},children:"Nodes"})}),c.map((function(n){return Object(z.jsx)(X,{node:n,expanded:n.url===t,toggleNodeExpanded:i},n.url)}))]})},Z=function(){return Object(z.jsx)(Y,{})},$=(t(84),function(){return Object(z.jsx)(l.a,{store:y,children:Object(z.jsx)(Z,{})})}),nn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,108)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),a(n),c(n)}))};c.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)($,{})}),document.getElementById("root")),nn()}},[[85,1,2]]]);
//# sourceMappingURL=main.9ec7fd5b.chunk.js.map